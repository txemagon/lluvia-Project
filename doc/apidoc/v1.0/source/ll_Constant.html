<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='Kernel-Foundation-Enumerable-Constant'>/**
</span> * @class Kernel.Foundation.Enumerable.Constant
 *
 * Defines Constants similar to C define preprocesor directives.
 *
 * ## Constant&#39;s structure
 *
 *     new Constant(&quot;euro&quot;, 166.386)
 *     //=&gt; { name: &quot;euro&quot;,
 *     //=&gt;   euro: 166.386
 *     //=&gt; }
 *
 * Only euro attribute is enumerable.
 *
 * ## Usage
 *
 *     var first = new Constant(&quot;Txema&quot;, 1101)
 *
 *     first == &quot;Txema&quot;
 *     //=&gt; true
 *
 *     first.equals(1101)
 *     //=&gt; true
 *
 * Constants are specially usefull as Array indexes.
 *
 *     var monday  = new Constant(&quot;monday&quot;, 0)
 *     var week_income = [1000, 2000, 3000, 500, 2000, 0, 0]
 *     week_income[monday]
 *     //=&gt; 1000
 */


<span id='Kernel-Foundation-Enumerable-Constant-method-constructor'>/**
</span> * @method constructor
 * Receives two parameters to set the constant value.
 *
 * @param {String} name string value
 * @param {Number} value number value
 */
function Constant(name, value) {
    this[name] = value
    Object.defineProperty(this, &quot;name&quot;, {
        value: name,
        enumerable: false
    })
    try{
        $global_space[&quot;$constants&quot;].push(this)
    } catch (e) {
        if ($K_debug_level &gt; $KC_dl.USER)
            $K_logger.warn(&quot;Error Creating Constant: &quot; + e)
    }
}


<span id='Kernel-Foundation-Enumerable-Constant-method-valueOf'>/**
</span> * @method valueOf
 * Returns the value of the name of obj
 *
 * @return {string}
 */
Constant.prototype.valueOf = function() {
    return this.name
}


<span id='Kernel-Foundation-Enumerable-Constant-method-toString'>/**
</span> * @method toString
 * Returns an number.
 *
 * @return {Number}
 */
Constant.prototype.toString = function() {
    return this[this.name]
}


<span id='Kernel-Foundation-Enumerable-Constant-method-equals'>/**
</span> * @method equals
 * Returns true or false, if the name has that number.
 *
 * @return {Boolean}
 */
Constant.prototype.equals = function(obj) {
    return this[this.name] == obj
}
</pre>
</body>
</html>
